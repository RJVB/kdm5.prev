<?xml version="1.0" encoding="UTF-8" ?>

<node name="/" xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0">
  <interface name="org.freedesktop.NetworkManager.Device">
    <property name="Udi" type="s" access="read">
      <tp:docstring>
        HAL UDI for the device.
      </tp:docstring>
    </property>
    <property name="Interface" type="s" access="read">
      <tp:docstring>
        The network interface offered by the device.
      </tp:docstring>
    </property>
    <property name="Driver" type="s" access="read">
      <tp:docstring>
        The driver handling the device.
      </tp:docstring>
    </property>
    <property name="Capabilities" type="u" access="read" tp:type="NM_DEVICE_CAP">
      <tp:docstring>
        Flags describing the capabilities of the device.
      </tp:docstring>
    </property>
    <property name="Ip4Address" type="i" access="read">
      <tp:docstring>
        The IPv4 address bound to the device. FIXME: what about devices with >1 IP address?
      </tp:docstring>
    </property>
    <property name="State" type="u" access="read" tp:type="NM_DEVICE_STATE">
      <tp:docstring>
        The current state of the device.
      </tp:docstring>
    </property>
    <property name="Ip4Config" type="o" access="read">
      <tp:docstring>
        Object path of the Ip4Config object describing the configuration of the device.  Only valid when the device is in the NM_DEVICE_STATE_ACTIVATED state.
      </tp:docstring>
    </property>
    <property name="Managed" type="b" access="read">
      <tp:docstring>
        Whether or not this device is managed by NetworkManager.
      </tp:docstring>
    </property>

    <!-- Ugh, but I see no other way of getting the type on the caller
    based on dbus object path only -->
    <property name="DeviceType" type="u" access="read">
      <tp:docstring>
      </tp:docstring>
    </property>


    <signal name="StateChanged">
      <arg name="state" type="u" tp:type="NM_DEVICE_STATE">
        <tp:docstring>
          The new state of the device.
        </tp:docstring>
      </arg>
    </signal>

    <tp:enum name="NM_DEVICE_STATE" type="u">
      <tp:enumvalue suffix="UNKNOWN" value="0">
        <tp:docstring>
          The device state is unknown.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="UNMANAGED" value="1">
        <tp:docstring>
          Initial state of all devices and the only state for devices not
          managed by NetworkManager.
          Allowed next states:
          UNAVAILABLE:  the device is now managed by NetworkManager
          Indicates the device is not yet ready for use, but is managed by
          NetworkManager.  For Ethernet devices, the device may not have an
          active carrier.  For WiFi devices, the device may not have its radio
          enabled.

          Allowed next states:
          UNMANAGED:  the device is no longer managed by NetworkManager
          DISCONNECTED:  the device is now ready for use
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="UNAVAILABLE" value="2">
        <tp:docstring>
          Indicates the device is not yet ready for use, but is managed by
          NetworkManager.  For Ethernet devices, the device may not have an
          active carrier.  For WiFi devices, the device may not have its radio
          enabled.

          Allowed next states:
          UNMANAGED:  the device is no longer managed by NetworkManager
          DISCONNECTED:  the device is now ready for use
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="DISCONNECTED" value="3">
        <tp:docstring>
          Indicates the device does not have an activate connection to anything.

          Allowed next states:
          UNMANAGED:  the device is no longer managed by NetworkManager
          UNAVAILABLE:  the device is no longer ready for use (rfkill, no carrier, etc)
          PREPARE:  the device has started activation
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="PREPARE" value="4">
        <tp:docstring>
          Indicate states in device activation.

          Allowed next states:
          UNMANAGED:  the device is no longer managed by NetworkManager
          UNAVAILABLE:  the device is no longer ready for use (rfkill, no carrier, etc)
          FAILED:  an error ocurred during activation
          NEED_AUTH:  authentication/secrets are needed
          ACTIVATED:  (IP_CONFIG only) activation was successful
          DISCONNECTED:  the device's connection is no longer valid, or NetworkManager went to sleep
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="CONFIG" value="5">
        <tp:docstring>
          The device is being configured.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="NEED_AUTH" value="6">
        <tp:docstring>
          The device requires authentication credentials.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="IP_CONFIG" value="7">
        <tp:docstring>
          The IP address of the device is being configured.
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="ACTIVATED" value="8">
        <tp:docstring>
          Indicates the device is part of an active network connection.

          Allowed next states:
          UNMANAGED:  the device is no longer managed by NetworkManager
          UNAVAILABLE:  the device is no longer ready for use (rfkill, no carrier, etc)
          FAILED:  a DHCP lease was not renewed, or another error
          DISCONNECTED:  the device's connection is no longer valid, or NetworkManager went to sleep
        </tp:docstring>
      </tp:enumvalue>
      <tp:enumvalue suffix="FAILED" value="9">
        <tp:docstring>
          Indicates the device's activation failed.

          Allowed next states:
          UNMANAGED:  the device is no longer managed by NetworkManager
          UNAVAILABLE:  the device is no longer ready for use (rfkill, no carrier, etc)
          DISCONNECTED:  the device's connection is ready for activation, or NetworkManager went to sleep
        </tp:docstring>
      </tp:enumvalue>
    </tp:enum>
    <tp:flags name="NM_DEVICE_CAP" value-prefix="NM_DEVICE_CAP" type="u">
      <tp:flag suffix="NONE" value="0x0">
        <tp:docstring>Null capability.</tp:docstring>
      </tp:flag>
      <tp:flag suffix="NM_SUPPORTED" value="0x1">
        <tp:docstring>The device is supported by NetworkManager.</tp:docstring>
      </tp:flag>
      <tp:flag suffix="CARRIER_DETECT" value="0x2">
        <tp:docstring>The device supports carrier detection.</tp:docstring>
      </tp:flag>
    </tp:flags>
  </interface>
</node>
